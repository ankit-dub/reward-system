<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Profile</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
    <style>
    $bgColor: #3a3d55;
$slideBgColor: rgba(255,255,255,0.3);
$slideBallColor: white;
$slideBallIconColor: black;
$slideTextColor: #3a3d55;


@mixin center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin nonselect {
	-webkit-touch-callout: none;
    -webkit-user-select: none;
     -khtml-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
	cursor: default;
}
#button-background {
	position: relative;
	background-color: $slideBgColor;
	width: 400px;
	height: 80px;
	border: white;
	border-radius: 40px;
  @include center;
}

#slider {
	transition: width 0.3s,
		border-radius 0.3s,
		height 0.3s;
	position: absolute;
	left: -10px;
	background-color: $slideBallColor;
	width: 100px;
	height: 100px;
	border-radius: 50%;
	@include center;
	&.unlocked {
		transition: all 0.3s;
		width: inherit;
		left: 0 !important;
		height: inherit;
		border-radius: inherit;
	}
}

.material-icons {
	color: $slideBallIconColor;
	font-size: 50px;
	@include nonselect;
}

.slide-text {
	color: $slideTextColor;
	font-size: 24px;
	text-transform: uppercase;
	font-family: 'Roboto', sans-serif;
	@include nonselect;
}

    div.a {
  border: 1px solid white;
  margin-top: 0px;
  margin-bottom: 0px;
  margin-right: 750px;
  margin-left: 350px;
  background-color: white;
}
#emi {
   display:none;
  width: 50%;
  text-align: center;
  background-color: lightblue;
  margin-top: 15px;
  margin-left:300px;
}


    button.b {
      display: inline-block;
      width: 180px;
      height: 180px;
      padding: 5px;
      border: 1px solid grey;
      border-radius: 15px;
      background-color: rgb(167, 148, 17);
}
span.b {
      display: inline-block;
      width: 50px;
      height: 50px;
      padding: 5px;
      border: 1px solid grey;
      border-radius: 15px;
      background-color: rgb(167, 148, 17);
}
button.c {
      display: inline-block;
      width: 180px;
      height: 180px;
      right: 5;
      padding: 8px;
      border-radius: 15px;
      border: 1px solid grey;
      background-color: yellow;
}
</style>
</head>
<body>



    <div class="a" style="background-color:rgb(27, 62, 84);color:white;padding:30px;">
        <h2 th:text="|&#128102; ${customer.getEmail()}|"></h2>
        <span id="notify" style='font-size:40px; position: absolute; top: 20px; left: 1000px;' onclick="myFunction()">&#128276;</span>
        <div><p id="emi" style="color:red;font-size:20px;">No New notification</p></div>
        <h3>&nbsp;&nbsp; Available balance</h3>
        <h4  th:text="|&nbsp; &nbsp;&#8377;${customer.getApprvamount()}|"></h4>


    </div>
    <div id="button-background">
        <span class="slide-text">Swipe to get money</span>
        <div id="slider">
            <i id="locker" class="material-icons">lock_open</i>
        </div>
    </div>

    </div>
    &nbsp;
    &nbsp;



    <div class="a"> <button class="b"><span style='font-size:50px;'>&#128184;</span>Repayment</button> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
        <a th:href=@{/{id}/offers(id=${customer.id})}><button class="c" > <span style='font-size:50px;'>&#127881;</span>My Rewards</button> </a> </div>
    &nbsp;
    &nbsp;
    <div class="a" style="background-color:rgb(27, 62, 84);color:white;padding:20px;"><span class="b">.</span>   You have unlock a magic card for good repayment behaviour</div>
    &nbsp;
    &nbsp;
    &nbsp;

    <div class="a"> <button class="b"><span style='font-size:50px;'>&#128179;</span>Credit Card</button> &nbsp; &nbsp;
        <button class="c"><span style='font-size:50px;'>&#128226;</span>Crif Report</button> &nbsp; &nbsp;
        <a th:href=@{/{id}/emi(id=${customer.getId()})}><button class="c"><span style='font-size:50px;'>&#127974;</span>My EMI</button> </a> </div>
    &nbsp;
    &nbsp;<script>

function myFunction() {
  var x = document.getElementById("emi");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

var initialMouse = 0;
var slideMovementTotal = 0;
var mouseIsDown = false;
var slider = $('#slider');

slider.on('mousedown touchstart', function(event){
	mouseIsDown = true;
	slideMovementTotal = $('#button-background').width() - $(this).width() + 10;
	initialMouse = event.clientX || event.originalEvent.touches[0].pageX;
});

$(document.body, '#slider').on('mouseup touchend', function (event) {
	if (!mouseIsDown)
		return;
	mouseIsDown = false;
	var currentMouse = event.clientX || event.changedTouches[0].pageX;
	var relativeMouse = currentMouse - initialMouse;

	if (relativeMouse < slideMovementTotal) {
		$('.slide-text').fadeTo(300, 1);
		slider.animate({
			left: "-10px"
		}, 300);
		return;
	}
	slider.addClass('unlocked');
	$('#locker').text('lock_outline');
	setTimeout(function(){
		slider.on('click tap', function(event){
			if (!slider.hasClass('unlocked'))
				return;
			slider.removeClass('unlocked');
			$('#locker').text('lock_open');
			slider.off('click tap');
		});
	}, 0);
});

$(document.body).on('mousemove touchmove', function(event){
	if (!mouseIsDown)
		return;

	var currentMouse = event.clientX || event.originalEvent.touches[0].pageX;
	var relativeMouse = currentMouse - initialMouse;
	var slidePercent = 1 - (relativeMouse / slideMovementTotal);

	$('.slide-text').fadeTo(0, slidePercent);

	if (relativeMouse <= 0) {
		slider.css({'left': '-10px'});
		return;
	}
	if (relativeMouse >= slideMovementTotal + 10) {
		slider.css({'left': slideMovementTotal + 'px'});
		return;
	}
	slider.css({'left': relativeMouse - 10});
});

</script>


</body>

</html>
